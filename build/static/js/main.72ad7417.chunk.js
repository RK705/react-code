(this["webpackJsonpreact-login-signup-ui-template"]=this["webpackJsonpreact-login-signup-ui-template"]||[]).push([[0],{28:function(e,t,a){e.exports=a(58)},33:function(e,t,a){},35:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(25),r=a.n(c),o=a(7),s=(a(33),a(4)),i=(a(34),a(35),a(8)),u=a(11),m=a.n(u);m.a.defaults.headers.post["Content-Type"]="application/json",m.a.defaults.baseURL=window.URL;var p=function(e){return console.log("CAlling to backend Login"),m.a.post("/auth/login",e)},g=function(e){return m.a.post("/auth/register",e)},b=Object(i.g)((function(e){var t=Object(i.f)();console.log(e);var a=Object(n.useState)(""),c=Object(s.a)(a,2),r=c[0],o=c[1],u=Object(n.useState)(""),m=Object(s.a)(u,2),g=m[0],b=m[1],E=Object(n.useState)(!1),f=Object(s.a)(E,2),d=f[0],h=f[1],v=Object(n.useState)(null),N=Object(s.a)(v,2),O=N[0],j=N[1];return l.a.createElement("form",null,l.a.createElement("h3",null,"Sign In"),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"User Name"),l.a.createElement("input",{onChange:function(e){return o(e.target.value)},type:"text",className:"form-control",placeholder:"Enter Username"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Password"),l.a.createElement("input",{onChange:function(e){return b(e.target.value)},type:"password",className:"form-control",placeholder:"Enter password"})),l.a.createElement("button",{onClick:function(e){e.preventDefault(),p({user:r,pass:g}).then((function(e){console.log(e),h(!0),j("LogIn SuccessFull"),localStorage.setItem("token",e.data.token),t.push("/photo"),window.location="http://localhost:".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).PORT||3333,"/main/index.html")})).catch((function(e){console.log(e),j("Wrong Username or Password")}))},type:"submit",className:"btn btn-primary btn-block"},"Submit"),d?l.a.createElement("p",null,"Sign in Successful"):l.a.createElement("p",null,O))})),E=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),o=Object(s.a)(r,2),i=o[0],u=o[1],m=Object(n.useState)(""),p=Object(s.a)(m,2),b=p[0],E=p[1],f=function(e,t){return t(e.target.value)},d=Object(n.useState)(null),h=Object(s.a)(d,2),v=h[0],N=h[1];return l.a.createElement("form",null,l.a.createElement("h3",null,"Sign Up"),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Name"),l.a.createElement("input",{onChange:function(e){return f(e,E)},type:"text",className:"form-control",placeholder:"Name"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Username"),l.a.createElement("input",{onChange:function(e){return f(e,c)},type:"text",className:"form-control",placeholder:"Username"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Password"),l.a.createElement("input",{onChange:function(e){return f(e,u)},type:"password",className:"form-control",placeholder:"Enter password"})),l.a.createElement("button",{onClick:function(e){e.preventDefault(),g({user:a,name:b,pass:i}).then((function(e){N("Registration Successfull"),console.log(e)})).catch((function(){N("Registration Failed")}))},type:"submit",className:"btn btn-primary btn-block"},"Sign Up"),l.a.createElement("p",{className:"text-right"},v))};var f=function(){var e=Object(i.f)(),t=Object(n.useState)(null),a=Object(s.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("token");r(e),console.log("Token set")}),[c]),l.a.createElement(o.a,null,l.a.createElement("div",{className:"App"},l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light fixed-top"},l.a.createElement("div",{className:"container"},l.a.createElement(o.b,{className:"navbar-brand",to:"/sign-in"},"Selfie App"),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo02"},l.a.createElement("ul",{className:"navbar-nav ml-auto"},l.a.createElement("li",{className:"nav-item"},c?null:l.a.createElement(o.b,{className:"nav-link",to:"/sign-in"},"Login")),l.a.createElement("li",{className:"nav-item"},c?null:l.a.createElement(o.b,{className:"nav-link",to:"/sign-up"},"Sign up")),l.a.createElement("li",{className:"nav-item"},c?l.a.createElement("p",{onClick:function(){localStorage.clear(),e.push("/sign-in")}},"Sign up"):null))))),l.a.createElement("div",{className:"auth-wrapper"},l.a.createElement("div",{className:"auth-inner"},l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/",component:b}),l.a.createElement(i.a,{path:"/sign-in",render:function(){return l.a.createElement(b,{token:r})}}),l.a.createElement(i.a,{path:"/sign-up",component:E}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(o.a,null,l.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[28,1,2]]]);
//# sourceMappingURL=main.72ad7417.chunk.js.map